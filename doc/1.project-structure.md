# smOTA 项目结构规划说明

> **项目名称**：Universal Secure OTA Library (smOTA)
> **文档版本**：v1.1
> **编写日期**：2026-01-26

---

## 目录

1. [概述](#1-概述)
2. [目录结构设计](#2-目录结构设计)
3. [模块划分说明](#3-模块划分说明)
4. [文件组织规范](#4-文件组织规范)
5. [依赖管理](#5-依赖管理)
6. [开发工作流](#6-开发工作流)
7. [用户集成指南](#7-用户集成指南)

---

## 1. 概述

本项目是一套轻量级、高度可靠且安全的 MCU 固件升级库，支持多种架构（ARM Cortex-M、RISC-V 等）和三种升级模式（双 Bank 交换、双槽位搬运、单分区覆盖）。

### 1.1 设计原则

| 原则 | 说明 |
|:-----|:-----|
| **模块化** | 各功能模块职责单一，接口清晰 |
| **可移植性** | 通过 HAL 层隔离硬件差异 |
| **可配置性** | 通过编译选项控制功能裁剪 |
| **安全性** | 支持固件签名验证和加密传输 |
| **易用性** | 统一头文件，简化用户集成 |

---

## 2. 目录结构设计

```
SMOTA/
├── readme.md                  # 项目主文档（需求规格说明）
├── LICENSE                    # 许可证
│
├── doc/                       # 项目文档目录
│
├── smota_tools/               # 工具集
│
├── smota/                     # 代码父文件夹（用户复制此目录）
│   ├── smota.h                # 统一头文件
│   │
│   ├── smota_core/            # 核心库（平台无关）
│   │   ├── inc/
│   │   │   ├── smota_config.h     # 支持裁剪宏定义
│   │   └── src/
│   │       ├── smota_core.c       # 核心功能
│   │
│   ├── smota_hal/             # 硬件抽象层（平台相关）
│   │   ├── inc/
│   │   │   └── smota_hal_impl.h   # HAL 实现接口
│   │   └── ports/               # 各平台移植目录
│   │       └── stm32/           # STM32 系列
│   │           ├── smota_hal_stm32.c
│   │           └── smota_flash_stm32.c
│   │
│   └── third_party/           # 第三方库
│       └── tinycrypt/         # TinyCrypt 加密库
│
│

```


**文档结束**
