# SMOTA Tool 开发任务清单

本文档记录 SMOTA 上位机工具的开发任务进度。

---

## 开发环境配置

- [ ] 安装 Rust 工具链
- [ ] 安装 Node.js (v18+)
- [ ] 安装 Visual Studio C++ 生成工具
- [ ] 安装 pnpm 包管理器
- [ ] 验证开发环境

## 项目初始化

- [ ] 使用 Tauri 脚手架创建项目
- [ ] 配置 Vue 3 + TypeScript 环境
- [ ] 配置 Tailwind CSS
- [ ] 配置 Naive UI 组件库
- [ ] 初始化项目目录结构
- [ ] 配置 Git 版本控制

## Rust 后端开发

### 串口管理模块
- [ ] 实现串口列表获取命令
- [ ] 实现串口打开/关闭功能
- [ ] 实现串口参数配置（波特率、数据位等）
- [ ] 实现数据发送功能
- [ ] 实现异步数据接收
- [ ] 实现设备热插拔检测
- [ ] 实现自动重连机制

### Python 脚本模块
- [ ] 配置 Pyo3 依赖
- [ ] 实现脚本加载功能
- [ ] 实现 `calculate()` 函数调用
- [ ] 实现脚本沙箱限制
- [ ] 实现错误处理与反馈
- [ ] 编写 Python API 文档

### SMOTA 协议模块
- [ ] 定义 SMOTA 数据包结构
- [ ] 实现设备识别命令
- [ ] 实现固件信息读取
- [ ] 实现闪存擦除功能
- [ ] 实现固件分块写入
- [ ] 实现 CRC 校验功能
- [ ] 实现升级进度追踪
- [ ] 实现设备重启指令

## 前端 UI 开发

### 基础组件
- [ ] 深色/浅色主题切换
- [ ] 串口连接面板组件
- [ ] 串口参数设置组件
- [ ] 设备列表组件

### 脚本编辑器
- [ ] 集成 Monaco Editor
- [ ] Python 语法高亮
- [ ] 代码自动补全
- [ ] 脚本保存/加载功能
- [ ] 脚本示例模板

### 数据监控
- [ ] 数据接收区域组件
- [ ] 数据发送区域组件
- [ ] Hex/ASCII 显示切换
- [ ] 时间戳显示
- [ ] 数据统计（发送/接收/错误计数）
- [ ] 数据导出功能

### 发送历史
- [ ] 历史命令列表
- [ ] 快速发送按钮
- [ ] 历史记录保存
- [ ] 历史记录导入导出

### OTA 升级界面
- [ ] 固件包选择组件
- [ ] 固件信息解析
- [ ] 升级选项配置
- [ ] 升级进度条
- [ ] 升级日志显示
- [ ] 升级结果提示

### 可视化图表
- [ ] 集成 ECharts
- [ ] 实时数据波形显示
- [ ] 信号强度图表
- [ ] 错误率统计

## 功能集成

- [ ] 串口连接状态管理
- [ ] 发送数据流程整合 Python 脚本
- [ ] OTA 升级流程整合 SMOTA 协议
- [ ] 前后端事件通信测试
- [ ] 异常处理集成

## 测试

### 单元测试
- [ ] 串口模块单元测试
- [ ] SMOTA 协议单元测试
- [ ] Python 脚本执行测试
- [ ] 数据解析测试

### 集成测试
- [ ] 串口通信测试
- [ ] Python 脚本集成测试
- [ ] OTA 升级流程测试
- [ ] 多设备测试

### 兼容性测试
- [ ] Windows 10 兼容性
- [ ] Windows 11 兼容性
- [ ] 不同串口芯片测试
- [ ] 不同波特率测试

## 打包发布

- [ ] 配置 NSIS 安装包
- [ ] 配置代码签名
- [ ] Windows MSI 打包
- [ ] 安装包测试
- [ ] 自动更新功能测试
- [ ] 编写发布说明

## 文档编写

- [ ] API 接口文档
- [ ] 用户使用手册
- [ ] Python 脚本编写指南
- [ ] 常见问题 FAQ
- [ ] 更新日志

---

## 开发进度总览

| 阶段 | 状态 | 进度 |
|------|------|------|
| 开发环境配置 | 待开始 | 0% |
| 项目初始化 | 待开始 | 0% |
| Rust 后端开发 | 待开始 | 0% |
| 前端 UI 开发 | 待开始 | 0% |
| 功能集成 | 待开始 | 0% |
| 测试 | 待开始 | 0% |
| 打包发布 | 待开始 | 0% |
| 文档编写 | 待开始 | 0% |

---

## 备注

- 任务优先级: P0 > P1 > P2 > P3
- P0: 核心功能，必须完成
- P1: 重要功能，建议完成
- P2: 增强功能，可选完成
- P3: 锦上添花，资源充裕时完成

## 更新日志

| 日期 | 版本 | 更新内容 |
|------|------|----------|
| 2025-01-30 | v1.0 | 创建任务清单 |
